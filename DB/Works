CREATE TABLE Works (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  main_description TEXT NOT NULL,
  sub_description TEXT,
  main_category_id INT NOT NULL,
  subcategory_id INT NOT NULL,
  product_reference_id INT, -- อ้างอิงสินค้าที่ใช้ในงาน
  is_custom BOOLEAN DEFAULT FALSE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  is_sample BOOLEAN DEFAULT FALSE,
  FOREIGN KEY (main_category_id) REFERENCES Categories(id),
  FOREIGN KEY (subcategory_id) REFERENCES subcategories(id),
  FOREIGN KEY (product_reference_id) REFERENCES Products(id)
);

CREATE TABLE WorksImages (
  id INT AUTO_INCREMENT PRIMARY KEY,
  work_id INT NOT NULL,
  image_path VARCHAR(255) NOT NULL,
  is_main BOOLEAN DEFAULT FALSE, -- TRUE ถ้าเป็นภาพหลัก
  display_order INT DEFAULT 0,   -- ใช้จัดเรียงภาพ
  FOREIGN KEY (work_id) REFERENCES Works(id) ON DELETE CASCADE
);